"use strict";(globalThis.webpackChunkultimate_cursor=globalThis.webpackChunkultimate_cursor||[]).push([[501],{501:(e,t,n)=>{n.d(t,{default:()=>i});var r=n(609);const i=function({SIM_RESOLUTION:e=128,DYE_RESOLUTION:t=1440,CAPTURE_RESOLUTION:n=512,DENSITY_DISSIPATION:i=3.5,VELOCITY_DISSIPATION:o=2,PRESSURE:a=.1,PRESSURE_ITERATIONS:u=20,CURL:c=3,SPLAT_RADIUS:l=.5,SPLAT_FORCE:s=6e3,SHADING:v=!1,COLOR_UPDATE_SPEED:f=10,BACK_COLOR:m={r:0,g:0,b:0},TRANSPARENT:h=!0,colors:d=["#ff0000","#00ff00","#0000ff"],wrapperElement:g,props:E}){const x=(0,r.useRef)(null),T=(0,r.useRef)(0),R=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const r={SIM_RESOLUTION:e,DYE_RESOLUTION:t,CAPTURE_RESOLUTION:n,DENSITY_DISSIPATION:i,VELOCITY_DISSIPATION:o,PRESSURE:a,PRESSURE_ITERATIONS:u,CURL:c,SPLAT_RADIUS:void 0!==E?.splashRadius?E.splashRadius:l,SPLAT_FORCE:void 0!==E?.splashForce?E.splashForce:s,SHADING:E?.splashShading||v,COLOR_UPDATE_SPEED:E?.splashColorUpdateSpeed||f,BACK_COLOR:E?.splashBackColor||m,TRANSPARENT:void 0!==E?.splashTransparent?E.splashTransparent:h,colors:E?.splashColors||d,...E||{}};R.current?Object.assign(R.current,r):R.current=r})),(0,r.useEffect)((()=>{const e=x.current,t=!g||g===document.body;if(!e)return;const n=R.current;n.PAUSED=!1;let r=[new function(){this.id=-1,this.texcoordX=0,this.texcoordY=0,this.prevTexcoordX=0,this.prevTexcoordY=0,this.deltaX=0,this.deltaY=0,this.down=!1,this.moved=!1,this.color=[250,0,0]}];const{gl:i,ext:o}=function(e){const t={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1};let n=e.getContext("webgl2",t);const r=!!n;let i,o;r||(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)),r?(n.getExtension("EXT_color_buffer_float"),o=n.getExtension("OES_texture_float_linear")):(i=n.getExtension("OES_texture_half_float"),o=n.getExtension("OES_texture_half_float_linear")),n.clearColor(0,0,0,1);const u=r?n.HALF_FLOAT:i&&i.HALF_FLOAT_OES;let c,l,s;return r?(c=a(n,n.RGBA16F,n.RGBA,u),l=a(n,n.RG16F,n.RG,u),s=a(n,n.R16F,n.RED,u)):(c=a(n,n.RGBA,n.RGBA,u),l=a(n,n.RGBA,n.RGBA,u),s=a(n,n.RGBA,n.RGBA,u)),{gl:n,ext:{formatRGBA:c,formatRG:l,formatR:s,halfFloatTexType:u,supportLinearFiltering:o}}}(e);function a(e,t,n,r){if(!function(e,t,n,r){const i=e.createTexture();e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,t,4,4,0,n,r,null);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0);return e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE}(e,t,n,r))switch(t){case e.R16F:return a(e,e.RG16F,e.RG,r);case e.RG16F:return a(e,e.RGBA16F,e.RGBA,r);default:return null}return{internalFormat:t,format:n}}o.supportLinearFiltering||(n.DYE_RESOLUTION=256,n.SHADING=!1);class u{constructor(e,t){this.uniforms={},this.program=c(e,t),this.uniforms=l(this.program)}bind(){i.useProgram(this.program)}}function c(e,t){let n=i.createProgram();return i.attachShader(n,e),i.attachShader(n,t),i.linkProgram(n),i.getProgramParameter(n,i.LINK_STATUS)||console.trace(i.getProgramInfoLog(n)),n}function l(e){let t=[],n=i.getProgramParameter(e,i.ACTIVE_UNIFORMS);for(let r=0;r<n;r++){let n=i.getActiveUniform(e,r).name;t[n]=i.getUniformLocation(e,n)}return t}function s(e,t,n){t=function(e,t){if(!t)return e;let n="";return t.forEach((e=>{n+="#define "+e+"\n"})),n+e}(t,n);const r=i.createShader(e);return i.shaderSource(r,t),i.compileShader(r),i.getShaderParameter(r,i.COMPILE_STATUS)||console.trace(i.getShaderInfoLog(r)),r}const v=s(i.VERTEX_SHADER,"\n        precision highp float;\n        attribute vec2 aPosition;\n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform vec2 texelSize;\n\n        void main () {\n            vUv = aPosition * 0.5 + 0.5;\n            vL = vUv - vec2(texelSize.x, 0.0);\n            vR = vUv + vec2(texelSize.x, 0.0);\n            vT = vUv + vec2(0.0, texelSize.y);\n            vB = vUv - vec2(0.0, texelSize.y);\n            gl_Position = vec4(aPosition, 0.0, 1.0);\n        }\n      "),f=s(i.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        uniform sampler2D uTexture;\n\n        void main () {\n            gl_FragColor = texture2D(uTexture, vUv);\n        }\n      "),m=s(i.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform float value;\n\n        void main () {\n            gl_FragColor = value * texture2D(uTexture, vUv);\n        }\n      "),h=s(i.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uTarget;\n        uniform float aspectRatio;\n        uniform vec3 color;\n        uniform vec2 point;\n        uniform float radius;\n\n        void main () {\n            vec2 p = vUv - point.xy;\n            p.x *= aspectRatio;\n            vec3 splat = exp(-dot(p, p) / radius) * color;\n            vec3 base = texture2D(uTarget, vUv).xyz;\n            gl_FragColor = vec4(base + splat, 1.0);\n        }\n      "),p=s(i.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uVelocity;\n        uniform sampler2D uSource;\n        uniform vec2 texelSize;\n        uniform vec2 dyeTexelSize;\n        uniform float dt;\n        uniform float dissipation;\n\n        vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n            vec2 st = uv / tsize - 0.5;\n            vec2 iuv = floor(st);\n            vec2 fuv = fract(st);\n\n            vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n            vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n            vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n            vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n\n            return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n        }\n\n        void main () {\n            #ifdef MANUAL_FILTERING\n                vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n                vec4 result = bilerp(uSource, coord, dyeTexelSize);\n            #else\n                vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n                vec4 result = texture2D(uSource, coord);\n            #endif\n            float decay = 1.0 + dissipation * dt;\n            gl_FragColor = result / decay;\n        }\n      ",o.supportLinearFiltering?null:["MANUAL_FILTERING"]),S=s(i.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uVelocity;\n\n        void main () {\n            float L = texture2D(uVelocity, vL).x;\n            float R = texture2D(uVelocity, vR).x;\n            float T = texture2D(uVelocity, vT).y;\n            float B = texture2D(uVelocity, vB).y;\n\n            vec2 C = texture2D(uVelocity, vUv).xy;\n            if (vL.x < 0.0) { L = -C.x; }\n            if (vR.x > 1.0) { R = -C.x; }\n            if (vT.y > 1.0) { T = -C.y; }\n            if (vB.y < 0.0) { B = -C.y; }\n\n            float div = 0.5 * (R - L + T - B);\n            gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n        }\n      "),D=s(i.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uVelocity;\n\n        void main () {\n            float L = texture2D(uVelocity, vL).y;\n            float R = texture2D(uVelocity, vR).y;\n            float T = texture2D(uVelocity, vT).x;\n            float B = texture2D(uVelocity, vB).x;\n            float vorticity = R - L - T + B;\n            gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n        }\n      "),A=s(i.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uVelocity;\n        uniform sampler2D uCurl;\n        uniform float curl;\n        uniform float dt;\n\n        void main () {\n            float L = texture2D(uCurl, vL).x;\n            float R = texture2D(uCurl, vR).x;\n            float T = texture2D(uCurl, vT).x;\n            float B = texture2D(uCurl, vB).x;\n            float C = texture2D(uCurl, vUv).x;\n\n            vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n            force /= length(force) + 0.0001;\n            force *= curl * C;\n            force.y *= -1.0;\n\n            vec2 velocity = texture2D(uVelocity, vUv).xy;\n            velocity += force * dt;\n            velocity = min(max(velocity, -1000.0), 1000.0);\n            gl_FragColor = vec4(velocity, 0.0, 1.0);\n        }\n      "),_=s(i.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uPressure;\n        uniform sampler2D uDivergence;\n\n        void main () {\n            float L = texture2D(uPressure, vL).x;\n            float R = texture2D(uPressure, vR).x;\n            float T = texture2D(uPressure, vT).x;\n            float B = texture2D(uPressure, vB).x;\n            float C = texture2D(uPressure, vUv).x;\n            float divergence = texture2D(uDivergence, vUv).x;\n            float pressure = (L + R + B + T - divergence) * 0.25;\n            gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n        }\n      "),y=s(i.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uPressure;\n        uniform sampler2D uVelocity;\n\n        void main () {\n            float L = texture2D(uPressure, vL).x;\n            float R = texture2D(uPressure, vR).x;\n            float T = texture2D(uPressure, vT).x;\n            float B = texture2D(uPressure, vB).x;\n            vec2 velocity = texture2D(uVelocity, vUv).xy;\n            velocity.xy -= vec2(R - L, T - B);\n            gl_FragColor = vec4(velocity, 0.0, 1.0);\n        }\n      "),L=(i.bindBuffer(i.ARRAY_BUFFER,i.createBuffer()),i.bufferData(i.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),i.STATIC_DRAW),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,i.createBuffer()),i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),i.STATIC_DRAW),i.vertexAttribPointer(0,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(0),(e,t=!1)=>{null==e?(i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight),i.bindFramebuffer(i.FRAMEBUFFER,null)):(i.viewport(0,0,e.width,e.height),i.bindFramebuffer(i.FRAMEBUFFER,e.fbo)),t&&(i.clearColor(0,0,0,1),i.clear(i.COLOR_BUFFER_BIT)),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0)});let w,F,U,b,P;const I=new u(v,f),B=new u(v,m),C=new u(v,h),N=new u(v,p),O=new u(v,S),X=new u(v,D),z=new u(v,A),G=new u(v,_),M=new u(v,y),Y=new class{constructor(e,t){this.vertexShader=e,this.fragmentShaderSource=t,this.programs=[],this.activeProgram=null,this.uniforms=[]}setKeywords(e){let t=0;for(let n=0;n<e.length;n++)t+=ae(e[n]);let n=this.programs[t];if(null==n){let r=s(i.FRAGMENT_SHADER,this.fragmentShaderSource,e);n=c(this.vertexShader,r),this.programs[t]=n}n!==this.activeProgram&&(this.uniforms=l(n),this.activeProgram=n)}bind(){i.useProgram(this.activeProgram)}}(v,"\n      precision highp float;\n      precision highp sampler2D;\n      varying vec2 vUv;\n      varying vec2 vL;\n      varying vec2 vR;\n      varying vec2 vT;\n      varying vec2 vB;\n      uniform sampler2D uTexture;\n      uniform sampler2D uDithering;\n      uniform vec2 ditherScale;\n      uniform vec2 texelSize;\n\n      vec3 linearToGamma (vec3 color) {\n          color = max(color, vec3(0));\n          return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));\n      }\n\n      void main () {\n          vec3 c = texture2D(uTexture, vUv).rgb;\n          #ifdef SHADING\n              vec3 lc = texture2D(uTexture, vL).rgb;\n              vec3 rc = texture2D(uTexture, vR).rgb;\n              vec3 tc = texture2D(uTexture, vT).rgb;\n              vec3 bc = texture2D(uTexture, vB).rgb;\n\n              float dx = length(rc) - length(lc);\n              float dy = length(tc) - length(bc);\n\n              vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n              vec3 l = vec3(0.0, 0.0, 1.0);\n\n              float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n              c *= diffuse;\n          #endif\n\n          float a = max(c.r, max(c.g, c.b));\n          gl_FragColor = vec4(c, a);\n      }\n    ");function H(){let e=ie(n.SIM_RESOLUTION),t=ie(n.DYE_RESOLUTION);const r=o.halfFloatTexType,a=o.formatRGBA,u=o.formatRG,c=o.formatR,l=o.supportLinearFiltering?i.LINEAR:i.NEAREST;i.disable(i.BLEND),w=w?k(w,t.width,t.height,a.internalFormat,a.format,r,l):W(t.width,t.height,a.internalFormat,a.format,r,l),F=F?k(F,e.width,e.height,u.internalFormat,u.format,r,l):W(e.width,e.height,u.internalFormat,u.format,r,l),U=V(e.width,e.height,c.internalFormat,c.format,r,i.NEAREST),b=V(e.width,e.height,c.internalFormat,c.format,r,i.NEAREST),P=W(e.width,e.height,c.internalFormat,c.format,r,i.NEAREST)}function V(e,t,n,r,o,a){i.activeTexture(i.TEXTURE0);let u=i.createTexture();i.bindTexture(i.TEXTURE_2D,u),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,a),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,a),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texImage2D(i.TEXTURE_2D,0,n,e,t,0,r,o,null);let c=i.createFramebuffer();return i.bindFramebuffer(i.FRAMEBUFFER,c),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,u,0),i.viewport(0,0,e,t),i.clear(i.COLOR_BUFFER_BIT),{texture:u,fbo:c,width:e,height:t,texelSizeX:1/e,texelSizeY:1/t,attach:e=>(i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,u),e)}}function W(e,t,n,r,i,o){let a=V(e,t,n,r,i,o),u=V(e,t,n,r,i,o);return{width:e,height:t,texelSizeX:a.texelSizeX,texelSizeY:a.texelSizeY,get read(){return a},set read(e){a=e},get write(){return u},set write(e){u=e},swap(){let e=a;a=u,u=e}}}function k(e,t,n,r,o,a,u){return e.width===t&&e.height===n||(e.read=function(e,t,n,r,o,a,u){let c=V(t,n,r,o,a,u);return I.bind(),i.uniform1i(I.uniforms.uTexture,e.attach(0)),L(c),c}(e.read,t,n,r,o,a,u),e.write=V(t,n,r,o,a,u),e.width=t,e.height=n,e.texelSizeX=1/t,e.texelSizeY=1/n),e}!function(){let e=[];n.SHADING&&e.push("SHADING"),Y.setKeywords(e)}(),H();let K=Date.now(),q=0,j=null,J=!1;function Q(){if(!J)return;const t=function(){let e=Date.now(),t=(e-K)/1e3;return t=Math.min(t,.016666),K=e,t}();(function(){let t=oe(e.clientWidth),n=oe(e.clientHeight);return(e.width!==t||e.height!==n)&&(e.width=t,e.height=n,!0)})()&&H(),function(e){q+=e*n.COLOR_UPDATE_SPEED,q>=1&&(q=(q-0)%1+0,r.forEach((e=>{e.color=re()})))}(t),r.forEach((e=>{e.moved&&(e.moved=!1,function(e){let t=e.deltaX*n.SPLAT_FORCE,r=e.deltaY*n.SPLAT_FORCE;$(e.texcoordX,e.texcoordY,t,r,e.color)}(e))})),function(e){i.disable(i.BLEND),X.bind(),i.uniform2f(X.uniforms.texelSize,F.texelSizeX,F.texelSizeY),i.uniform1i(X.uniforms.uVelocity,F.read.attach(0)),L(b),z.bind(),i.uniform2f(z.uniforms.texelSize,F.texelSizeX,F.texelSizeY),i.uniform1i(z.uniforms.uVelocity,F.read.attach(0)),i.uniform1i(z.uniforms.uCurl,b.attach(1)),i.uniform1f(z.uniforms.curl,n.CURL),i.uniform1f(z.uniforms.dt,e),L(F.write),F.swap(),O.bind(),i.uniform2f(O.uniforms.texelSize,F.texelSizeX,F.texelSizeY),i.uniform1i(O.uniforms.uVelocity,F.read.attach(0)),L(U),B.bind(),i.uniform1i(B.uniforms.uTexture,P.read.attach(0)),i.uniform1f(B.uniforms.value,n.PRESSURE),L(P.write),P.swap(),G.bind(),i.uniform2f(G.uniforms.texelSize,F.texelSizeX,F.texelSizeY),i.uniform1i(G.uniforms.uDivergence,U.attach(0));for(let e=0;e<n.PRESSURE_ITERATIONS;e++)i.uniform1i(G.uniforms.uPressure,P.read.attach(1)),L(P.write),P.swap();M.bind(),i.uniform2f(M.uniforms.texelSize,F.texelSizeX,F.texelSizeY),i.uniform1i(M.uniforms.uPressure,P.read.attach(0)),i.uniform1i(M.uniforms.uVelocity,F.read.attach(1)),L(F.write),F.swap(),N.bind(),i.uniform2f(N.uniforms.texelSize,F.texelSizeX,F.texelSizeY),o.supportLinearFiltering||i.uniform2f(N.uniforms.dyeTexelSize,F.texelSizeX,F.texelSizeY);let t=F.read.attach(0);i.uniform1i(N.uniforms.uVelocity,t),i.uniform1i(N.uniforms.uSource,t),i.uniform1f(N.uniforms.dt,e),i.uniform1f(N.uniforms.dissipation,n.VELOCITY_DISSIPATION),L(F.write),F.swap(),o.supportLinearFiltering||i.uniform2f(N.uniforms.dyeTexelSize,w.texelSizeX,w.texelSizeY),i.uniform1i(N.uniforms.uVelocity,F.read.attach(0)),i.uniform1i(N.uniforms.uSource,w.read.attach(1)),i.uniform1f(N.uniforms.dissipation,n.DENSITY_DISSIPATION),L(w.write),w.swap()}(t),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),i.enable(i.BLEND),function(e){let t=i.drawingBufferWidth,r=i.drawingBufferHeight;Y.bind(),n.SHADING&&i.uniform2f(Y.uniforms.texelSize,1/t,1/r),i.uniform1i(Y.uniforms.uTexture,w.read.attach(0)),L(e)}(null),j=requestAnimationFrame(Q)}function Z(){J||(J=!0,K=Date.now(),j=requestAnimationFrame(Q))}function $(t,r,o,a,u){C.bind(),i.uniform1i(C.uniforms.uTarget,F.read.attach(0)),i.uniform1f(C.uniforms.aspectRatio,e.width/e.height),i.uniform2f(C.uniforms.point,t,r),i.uniform3f(C.uniforms.color,o,a,0),i.uniform1f(C.uniforms.radius,function(t){let n=e.width/e.height;return n>1&&(t*=n),t}(n.SPLAT_RADIUS/100)),L(F.write),F.swap(),i.uniform1i(C.uniforms.uTarget,w.read.attach(0)),i.uniform3f(C.uniforms.color,u.r,u.g,u.b),L(w.write),w.swap()}function ee(t,n,r,i){t.id=n,t.down=!0,t.moved=!1,t.texcoordX=r/e.width,t.texcoordY=1-i/e.height,t.prevTexcoordX=t.texcoordX,t.prevTexcoordY=t.texcoordY,t.deltaX=0,t.deltaY=0,t.color=re()}function te(t,n,r,i){t.prevTexcoordX=t.texcoordX,t.prevTexcoordY=t.texcoordY,t.texcoordX=n/e.width,t.texcoordY=1-r/e.height,t.deltaX=function(t){let n=e.width/e.height;return n<1&&(t*=n),t}(t.texcoordX-t.prevTexcoordX),t.deltaY=function(t){let n=e.width/e.height;return n>1&&(t/=n),t}(t.texcoordY-t.prevTexcoordY),t.moved=Math.abs(t.deltaX)>0||Math.abs(t.deltaY)>0,t.color=i}function ne(e){e.down=!1}function re(){const e=n.colors||d,t=e[T.current%e.length].replace("#",""),r=parseInt(t.substring(0,2),16)/255,i=parseInt(t.substring(2,4),16)/255,o=parseInt(t.substring(4,6),16)/255;return T.current=(T.current+1)%e.length,{r:.15*r,g:.15*i,b:.15*o}}function ie(e){let t=i.drawingBufferWidth/i.drawingBufferHeight;t<1&&(t=1/t);const n=Math.round(e),r=Math.round(e*t);return i.drawingBufferWidth>i.drawingBufferHeight?{width:r,height:n}:{width:n,height:r}}function oe(e){const t=window.devicePixelRatio||1;return Math.floor(e*t)}function ae(e){if(0===e.length)return 0;let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}function ue(e,n){if(t)return{x:e.clientX,y:e.clientY,width:window.innerWidth,height:window.innerHeight};const r=n.getBoundingClientRect();return{x:e.clientX-r.left,y:e.clientY-r.top,width:r.width,height:r.height}}function ce(e){if(t&&E&&("css-selectors"===E.cursorScope||"html-elements"===E.cursorScope)){const t=document.elementFromPoint(e.x,e.y);return!!(t&&t.hasAttribute&&t.hasAttribute("data-ultimate-cursor-active"))}return e.x>=0&&e.y>=0&&e.x<=e.width&&e.y<=e.height}const le=e=>{const t=ue(e,xe);if(!ce(t))return;let n=r[0];ee(n,-1,oe(t.x),oe(t.y)),function(e){const t=re();t.r*=10,t.g*=10,t.b*=10;let n=10*(Math.random()-.5),r=30*(Math.random()-.5);$(e.texcoordX,e.texcoordY,n,r,t)}(n)};function se(e){const t=ue(e,xe);if(!ce(t))return;let n=r[0],i=oe(t.x),o=oe(t.y),a=re();Z(),te(n,i,o,a),xe.removeEventListener("mousemove",se)}const ve=e=>{const t=ue(e,xe);if(!ce(t))return;let n=r[0];te(n,oe(t.x),oe(t.y),n.color)};function fe(e){const t=e.targetTouches;let n=r[0];for(let e=0;e<t.length;e++){const r=ue(t[e],xe);if(!ce(r))continue;let i=oe(r.x),o=oe(r.y);Z(),ee(n,t[e].identifier,i,o)}xe.removeEventListener("touchstart",fe)}const me=e=>{const t=e.targetTouches;let n=r[0];for(let e=0;e<t.length;e++){const r=ue(t[e],xe);if(!ce(r))continue;let i=oe(r.x),o=oe(r.y);ee(n,t[e].identifier,i,o)}},he=e=>{const t=e.targetTouches;let n=r[0];for(let e=0;e<t.length;e++){const r=ue(t[e],xe);ce(r)&&te(n,oe(r.x),oe(r.y),n.color)}},de=e=>{const t=e.changedTouches;let n=r[0];for(let e=0;e<t.length;e++)ne(n)},ge=()=>{r.forEach((e=>{e.down=!1,e.moved=!1,e.deltaX=0,e.deltaY=0}))},Ee=()=>{Z()},xe=t?document:g;function Te(){if(t)e.width=oe(window.innerWidth),e.height=oe(window.innerHeight);else{const t=g.getBoundingClientRect();e.width=oe(t.width),e.height=oe(t.height)}}return xe.addEventListener("mousedown",le),xe.addEventListener("mousemove",se),xe.addEventListener("mousemove",ve),xe.addEventListener("touchstart",fe),xe.addEventListener("touchstart",me),xe.addEventListener("touchmove",he,!1),xe.addEventListener("touchend",de),xe.addEventListener("mouseleave",ge),xe.addEventListener("mouseenter",Ee),Te(),window.addEventListener("resize",Te),Z(),()=>{J=!1,null!==j&&(cancelAnimationFrame(j),j=null),xe.removeEventListener("mousedown",le),xe.removeEventListener("mousemove",ve),xe.removeEventListener("mousemove",se),xe.removeEventListener("touchstart",me),xe.removeEventListener("touchstart",fe),xe.removeEventListener("touchmove",he),xe.removeEventListener("touchend",de),xe.removeEventListener("mouseenter",Ee),xe.removeEventListener("mouseleave",ge),window.removeEventListener("resize",Te);const e=i.getExtension("WEBGL_lose_context");e&&e.loseContext()}}),[g]),(0,r.createElement)("div",{style:{position:"absolute",top:0,left:0,zIndex:50,pointerEvents:"none",width:"100%",height:"100%",overflow:"hidden"}},(0,r.createElement)("canvas",{ref:x,id:"fluid",style:{width:"100%",height:"100%",display:"block"}}))}}}]);