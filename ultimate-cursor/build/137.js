"use strict";(globalThis.webpackChunkultimate_cursor=globalThis.webpackChunkultimate_cursor||[]).push([[137],{137:(e,t,n)=>{n.d(t,{default:()=>i});var r=n(609);const i=({wrapperElement:e,props:t})=>{const n=t?.sparkColor||"#333",i=t?.sparkSize||10,c=t?.sparkRadius||15,o=t?.sparkCount||8,s=t?.duration||400,u=t?.easing||"ease-out",a=t?.extraScale||1,l=(0,r.useRef)(null),d=(0,r.useRef)(null),h=(0,r.useRef)([]),m=(0,r.useRef)(void 0),[f,p]=(0,r.useState)(!0),g=((e,t)=>{const[n,i]=(0,r.useState)({x:0,y:0}),c=(0,r.useRef)({x:0,y:0});return(0,r.useEffect)((()=>{const n=n=>{if(e){const r=e.getBoundingClientRect();n.clientX>=r.left&&n.clientX<=r.right&&n.clientY>=r.top&&n.clientY<=r.bottom?(c.current={x:n.clientX-r.left,y:n.clientY-r.top},t(!0)):t(!1)}else c.current={x:n.clientX,y:n.clientY},t(!0)},r=()=>{e||t(!0)};return document.addEventListener("mousemove",n),document.addEventListener("scroll",r),()=>{document.removeEventListener("mousemove",n),document.removeEventListener("scroll",r)}}),[e,t]),(0,r.useEffect)((()=>{let e;const t=()=>{i(c.current),e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>{cancelAnimationFrame(e)}}),[]),n})(e,p),w=(0,r.useCallback)((e=>{switch(u){case"linear":return e;case"ease-in":return e*e;case"ease-in-out":return e<.5?2*e*e:(4-2*e)*e-1;default:return e*(2-e)}}),[u]);return(0,r.useEffect)((()=>{const t=void 0!==e,r=t?e:document.body;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const u=document.createElement("canvas"),f=u.getContext("2d",{alpha:!0});if(!f)return;l.current=u,d.current=f,u.style.top="0px",u.style.left="0px",u.style.pointerEvents="none",u.style.position=t?"absolute":"fixed",t?(e?.appendChild(u),u.width=e.clientWidth,u.height=e.clientHeight):(document.body.appendChild(u),u.width=window.innerWidth,u.height=window.innerHeight);const p=n=>{let r,i;if(t&&e){const t=e.getBoundingClientRect();r=n.clientX-t.left,i=n.clientY-t.top}else r=n.clientX,i=n.clientY;const c=performance.now(),s=Array.from({length:o},((e,t)=>({x:r,y:i,angle:2*Math.PI*t/o,startTime:c})));h.current.push(...s)},g=()=>{t&&e?(u.width=e.clientWidth,u.height=e.clientHeight):(u.width=window.innerWidth,u.height=window.innerHeight)},v=e=>{if(!d.current||!l.current)return;const t=d.current,r=l.current;t.clearRect(0,0,r.width,r.height),h.current=h.current.filter((r=>{const o=e-r.startTime;if(o>=s)return!1;const u=w(o/s),l=u*c*a,d=i*(1-u),h=r.x+l*Math.cos(r.angle),m=r.y+l*Math.sin(r.angle),f=r.x+(l+d)*Math.cos(r.angle),p=r.y+(l+d)*Math.sin(r.angle);return t.strokeStyle=n,t.lineWidth=2,t.beginPath(),t.moveTo(h,m),t.lineTo(f,p),t.stroke(),!0})),m.current=requestAnimationFrame(v)};return r.addEventListener("click",p),window.addEventListener("resize",g),m.current=requestAnimationFrame(v),()=>{l.current&&l.current.remove(),m.current&&cancelAnimationFrame(m.current),r.removeEventListener("click",p),window.removeEventListener("resize",g)}}),[e,n,i,c,o,s,w,a,g,f]),null}}}]);