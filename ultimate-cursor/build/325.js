"use strict";(globalThis.webpackChunkultimate_cursor=globalThis.webpackChunkultimate_cursor||[]).push([[325],{325:(e,t,n)=>{n.d(t,{default:()=>o});var i=n(609);class r{position;velocity;lifeSpan;initialLifeSpan;canv;constructor(e,t,n){this.position={x:e,y:t},this.velocity={x:(Math.random()<.5?-1:1)*(Math.random()/2),y:1+Math.random()},this.lifeSpan=Math.floor(60*Math.random()+80),this.initialLifeSpan=this.lifeSpan,this.canv=n}update(e){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.lifeSpan--,this.velocity.x+=2*(Math.random()<.5?-1:1)/75,this.velocity.y-=Math.random()/300;const t=Math.max(this.lifeSpan/this.initialLifeSpan,0);e.save(),e.translate(this.position.x,this.position.y),e.scale(t,t),e.drawImage(this.canv,-this.canv.width/2,-this.canv.height/2),e.restore()}}const o=({wrapperElement:e})=>{const t=(0,i.useRef)(null),n=(0,i.useRef)([]),o=(0,i.useRef)([]),c=(0,i.useRef)(null),s=["❄️"],a=(0,i.useRef)(null),[l,u]=(0,i.useState)(!0);return((e,t)=>{const[n,r]=(0,i.useState)({x:0,y:0}),o=(0,i.useRef)({x:0,y:0});(0,i.useEffect)((()=>{const n=n=>{if(e){const i=e.getBoundingClientRect();n.clientX>=i.left&&n.clientX<=i.right&&n.clientY>=i.top&&n.clientY<=i.bottom?(o.current={x:n.clientX-i.left,y:n.clientY-i.top},t(!0)):t(!1)}else o.current={x:n.clientX,y:n.clientY},t(!0)},i=()=>{e||t(!0)};return document.addEventListener("mousemove",n),document.addEventListener("scroll",i),()=>{document.removeEventListener("mousemove",n),document.removeEventListener("scroll",i)}}),[e,t]),(0,i.useEffect)((()=>{let e;const t=()=>{r(o.current),e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>{cancelAnimationFrame(e)}}),[])})(e,u),(0,i.useEffect)((()=>{if("undefined"==typeof window)return;a.current=window.matchMedia("(prefers-reduced-motion: reduce)");const i=document.createElement("canvas"),l=i.getContext("2d");if(!l)return;const u=void 0!==e,h=u?e:document.body;i.style.position=u?"absolute":"fixed",i.style.top="0",i.style.left="0",i.style.pointerEvents="none",h.appendChild(i),t.current=i;const d=()=>{i.width=u?e.clientWidth:window.innerWidth,i.height=u?e.clientHeight:window.innerHeight},m=t=>{((e,t)=>{const i=o.current[Math.floor(Math.random()*o.current.length)];n.current.push(new r(e,t,i))})(u?t.clientX-e.getBoundingClientRect().left:t.clientX,u?t.clientY-e.getBoundingClientRect().top:t.clientY)},f=()=>{l&&i&&(l.clearRect(0,0,i.width,i.height),n.current.forEach(((e,t)=>{e.update(l),e.lifeSpan<0&&n.current.splice(t,1)}))),c.current=requestAnimationFrame(f)},p=()=>{a.current?.matches||(d(),l.font="12px serif",l.textBaseline="middle",l.textAlign="center",s.forEach((e=>{const t=l.measureText(e),n=document.createElement("canvas"),i=n.getContext("2d");i&&(n.width=t.width,n.height=2*t.actualBoundingBoxAscent,i.textAlign="center",i.font="12px serif",i.textBaseline="middle",i.fillText(e,n.width/2,t.actualBoundingBoxAscent),o.current.push(n))})),h.addEventListener("mousemove",m),window.addEventListener("resize",d),f())},v=()=>{t.current&&t.current.remove(),c.current&&cancelAnimationFrame(c.current),h.removeEventListener("mousemove",m),window.removeEventListener("resize",d)};return a.current.onchange=()=>{a.current?.matches?v():p()},p(),()=>v()}),[e]),null}}}]);