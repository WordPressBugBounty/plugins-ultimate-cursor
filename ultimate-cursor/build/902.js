"use strict";(globalThis.webpackChunkultimate_cursor=globalThis.webpackChunkultimate_cursor||[]).push([[902],{902:(e,t,i)=>{i.d(t,{default:()=>o});var n=i(609);class r{lifeSpan;initialLifeSpan;velocity;position;baseDimension;fillColor;strokeColor;constructor(e,t,i={}){this.initialLifeSpan=Math.floor(60*Math.random()+60),this.lifeSpan=this.initialLifeSpan,this.velocity={x:(Math.random()<.5?-1:1)*(Math.random()/10),y:-1*Math.random()-.4},this.position={x:e,y:t},this.baseDimension=i.bubbleSize||4,this.fillColor=i.bubbleFillColor||"#e6f1f7",this.strokeColor=i.bubbleStrokeColor||"#3a92c5"}update(e){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.x+=2*(Math.random()<.5?-1:1)/75,this.velocity.y-=Math.random()/600,this.lifeSpan--;const t=.2+(this.initialLifeSpan-this.lifeSpan)/this.initialLifeSpan;e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.beginPath(),e.arc(this.position.x-this.baseDimension/2*t,this.position.y-this.baseDimension/2,this.baseDimension*t,0,2*Math.PI),e.stroke(),e.fill(),e.closePath()}}const o=({wrapperElement:e,props:t})=>{const{bubbleSize:i,bubbleFillColor:o,bubbleStrokeColor:l}=t||{},s=(0,n.useRef)(null),h=(0,n.useRef)([]),u=(0,n.useRef)({x:0,y:0}),c=(0,n.useRef)(null),[a,b]=(0,n.useState)({width:0,height:0}),f=(0,n.useRef)({bubbleSize:i,bubbleFillColor:o,bubbleStrokeColor:l});(0,n.useEffect)((()=>{t&&(f.current={bubbleSize:t.bubbleSize,bubbleFillColor:t.bubbleFillColor,bubbleStrokeColor:t.bubbleStrokeColor})}),[t]),(0,n.useEffect)((()=>{const t=()=>{b(e?{width:e.clientWidth,height:e.clientHeight}:{width:window.innerWidth,height:window.innerHeight})};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[e]),(0,n.useEffect)((()=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const t=s.current;if(!t)return;const i=t.getContext("2d");if(!i)return;const n=e=>{if(e.touches.length>0)for(let t=0;t<e.touches.length;t++)l(e.touches[t].clientX,e.touches[t].clientY)},o=t=>{if(e){const i=e.getBoundingClientRect();u.current.x=t.clientX-i.left,u.current.y=t.clientY-i.top}else u.current.x=t.clientX,u.current.y=t.clientY;l(u.current.x,u.current.y)},l=(e,t)=>{h.current.push(new r(e,t,f.current))},a=()=>{(()=>{if(0!==h.current.length){i.clearRect(0,0,t.width,t.height);for(let e=0;e<h.current.length;e++)h.current[e].update(i);for(let e=h.current.length-1;e>=0;e--)h.current[e].lifeSpan<0&&h.current.splice(e,1);0===h.current.length&&i.clearRect(0,0,t.width,t.height)}})(),c.current=requestAnimationFrame(a)},b=e||document.body;return b.addEventListener("mousemove",o),b.addEventListener("touchmove",n,{passive:!0}),b.addEventListener("touchstart",n,{passive:!0}),a(),()=>{c.current&&(cancelAnimationFrame(c.current),c.current=null),h.current=[],b.removeEventListener("mousemove",o),b.removeEventListener("touchmove",n),b.removeEventListener("touchstart",n)}}),[e,a]);const d={position:e?"absolute":"fixed",top:0,left:0,pointerEvents:"none",width:a.width,height:a.height};return(0,n.createElement)("canvas",{ref:s,style:d,width:a.width,height:a.height})}}}]);